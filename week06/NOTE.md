## 学习笔记

### MVC和MTV
- MVC是设计模式，是一种根据经验沉淀的编程的设计指导思想
- MTV是一种框架结构
  - M：模型
    - 创建模型
    - 执行CURD
  - T：模板
    - 页面结构
  - V：视图
    - 接收请求
    - 调用models
    - 调用templates
    - 将数据填充到模板再响应

### Django
  - 特点
    - 采用MTV的框架
    - 强调快速开发和代码复用
    - 组件丰富
      - ORM，即采用类的方式处理SQL关系与数据操作
      - URL支持正则
      - 模板可继承
      - 内置用户认证
      - admin管理系统
      - 内置表单模型、Cache缓存系统、国际化支持等等
  - 创建与目录简介
    - 安装`pip install django`
    - 创建项目`django-admin startproject 项目名称`
    - 在项目下的`manage.py`是命令行工具
    - 在项目下的项目名称目录下有一个`settings.py`是项目配置文件
      - 比如配置数据库信息、支持的应用程序等等

  - 应用程序
    - 创建应用程序
      - `python manage.py startapp 应用名称`
      - 对应的应用程序下有如下文件
        - migrations：数据库迁移文件
        - models.py：模型
        - apps.py：当前app的配置文件
        - admin.py：管理后台
        - test.py：自动化测试
        - views.py：视图
    - 启动应用
      - `python manage.py runserver 0.0.0.0:80`：可以指定端口
  - 配置文件包括如下
    - 项目路径
      - `BASE_DIR`：通过`os`包
    - 密钥
      - `SECRET_KEY`
    - 调试模式
      - `DEBUG`为true表示打开调试模式，调试模式仅用于开发环境
    - 域名访问权限
      - `ALLOWED_HOSTS=[]`填写允许访问的域名
    - App列表
      - `INSTALLED_APPS`app列表
    - 静态资源：CSS、JavaScript、图片等
      - `STATIC_URL`
    - 模板文件
      - `TEMPLATES`
      - `BACKEND`指定模板引擎
      - `DIRS`设置模板路径
      - `APP_DIRS`是否在app里查找模板文件
      - `OPTIONS`用于RequestContext上下文的调用函数
    - 数据库配置
      - `DATABASES`
    - 缓存
    - 中间件
      - `MIDDLEWARE`
    - url匹配
      - `ROOT_URLCONF`指定http请求之后的url匹配规则文件
    - 时区、国际化等配置
  - URL支持变量
    - str
    - int
      - path('<int year>', views.myyear)
    - slug：备注
    - uuid
    - path
  - URL调度器：类似于PHP中的路由列表
### 模块和包
  - 模块
    - 以`.py`结尾的python程序
  - 包
    - 存放多个模块的目录
    - `__init__.py`包运行的初始化文件，可以为空文件
    - 包的导入
      - `from xxx import x2 as x`
      - `from .xxx import x`
  - 使用import引入，是将文件作为包`__name__`就是`文件名称`
  - 直接执行文件，是将其作为模块`__name__`就是`__main__`